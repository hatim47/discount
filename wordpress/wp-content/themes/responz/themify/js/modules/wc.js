(($,e,o,t,c,i,r)=>{"use strict";let a=!1,n=!1,s=o.querySelector("form.variations_form select"),l=[];const _=$(o.body),f=c.wc_version,u=c.wc_js["wc-add-to-cart-variation"],m=c.wc_js.wc_additional_variation_images_script,w=o.tfClass("woocommerce-ordering"),d=function(){this.closest("form").submit()},p=o.querySelectorAll("input.qty[min]"),g=e=>!e.includes("ver=",12)&&f,y=e=>{function o(e,o){const t=e.split(".").map(Number),c=o.split(".").map(Number),i=Math.max(t.length,c.length);for(let e=0;e<i;e++){const o=t[e]||0,i=c[e]||0;if(o>i)return 1;if(o<i)return-1}return 0}switch(e){case"js-cookie":case"wc-js-cookie":return o(c.wc_version,"10.3.0")>=0?"wc-js-cookie":"js-cookie";case"jquery-blockui":case"wc-jquery-blockui":return o(c.wc_version,"10.3.0")>=0?"wc-jquery-blockui":"jquery-blockui";default:return e}},h=async o=>{if(c.photoswipe){o.preventDefault(),o.stopImmediatePropagation();const t=o.currentTarget;await Promise.all([e.loadCss(c.photoswipe.main,null,f),e.loadCss(c.photoswipe.skin,null,f)]),i((()=>{t.click()}),5)}},j=async(a,f,p,h)=>{const j=c.wc_js,k=a&&!0!==a,b=o=>{if(delete j[o],0===Object.keys(j).length){_.off("click.tf_wc_click").off("added_to_cart removed_from_cart",v);for(let e=0;e<w.length;++e)w[e].tfOff("change",d,{passive:!0,once:!0});i((()=>{if(a&&!0!==a&&"load"!==a)if("click"===a.type)for(let e=0;e<l.length;++e)l[e].isConnected&&l[e].click();else _.triggerHandler(a.type,[f,p,h]);l=null,e.trigger("tf_wc_js_load")}),5)}},q=async()=>{j.woocommerce&&await e.loadJs(j.woocommerce,$.scroll_to_notices!==r,g(j.woocommerce)),b("woocommerce")},x=async()=>{const i=o.tfClass("variations_form");if(i[0]||o.tfClass("wcpa_form_outer").length>0){if(m&&e.loadJs(m,$.wc_additional_variation_images_frontend!==r,g(m)),await e.loadJs(e.includesURL+"js/underscore.min",r!==t._,c.wp),await Promise.all([e.loadJs(e.includesURL+"js/wp-util.min",t.wp?.template!==r,c.wp),e.loadJs(u,$.fn.wc_variation_form!==r,g(u))]),!o.tfId("tm-extra-product-options"))for(let e=i.length-1;e>-1;--e)$(i[e]).wc_variation_form();s&&n&&e.triggerEvent(s,"change"),s=n=null}};if(!0===k){const o=y("wc-jquery-blockui");j[o]&&e.loadJs(j[o],$.blockUI===r,g(j[o])).then((()=>{b(o)})),j["wc-add-to-cart"]?e.loadJs(j["wc-add-to-cart"],c.wc_js_normal!==r,g(j["wc-add-to-cart"])).then((()=>{b("wc-add-to-cart"),x()})):x(),j["wc-single-product"]&&!$.fn.wc_product_gallery&&"undefined"!=typeof wc_single_product_params?e.loadJs(j["wc-single-product"],$.fn.wc_product_gallery!==r,g(j["wc-single-product"])).then((()=>{b("wc-single-product"),e.trigger("tf_init_photoswipe")})):delete j["wc-single-product"]}const F=y("wc-js-cookie");j[F]?(await e.loadJs(j[F],!!t.Cookies,g(j[F])),j["wc-cart-fragments"]&&await e.loadJs(j["wc-cart-fragments"],c.wc_js_normal!==r,g(j["wc-cart-fragments"])),b(F),b("wc-cart-fragments"),!0===k&&q()):q()},v=(e,o,t,c)=>{!1===a&&(a=!0,j(e,o,t,$(c)))};if(_.one("added_to_cart removed_from_cart",v).on("click.tf_wc_click",".ajax_add_to_cart,.remove_from_cart_button",(e=>{e.preventDefault(),e.stopImmediatePropagation(),e.target.classList.contains("loading")||(l.push(e.target),e.target.classList.add("loading")),!1===a&&(a=!0,j(e))})),null!==s){const o=e=>{n||(t.tfOff("scroll pointermove",o,{once:!0,passive:!0}),s?.tfOff("change",o,{once:!0,passive:!0}),"change"===e?.type&&s&&e.stopImmediatePropagation(),!1===a&&(a=n=!0,j("load")))};t.tfOn("scroll pointermove",o,{once:!0,passive:!0}),s.tfOn("change",o,{once:!0,passive:!0}),i((()=>{e.requestIdleCallback(o,800)}),700)}for(let e=0;e<w.length;++e)w[e].tfOn("change",d,{passive:!0,once:!0});for(let e=p.length-1;e>-1;--e){let o=parseFloat(p[e].min);o>=0&&parseFloat(p[e].value)<o&&(p[e].value=o)}delete c.wc_js["wc-add-to-cart-variation"],delete c.wc_js.wc_additional_variation_images_script,e.on("tf_wc_init",(t=>{!0===t||null!==o.querySelector(".woocommerce-input-wrapper,.woocommerce-store-notice")?j("load"):j(!0),(async()=>{const t=o.tfClass("tf_wc_accordion")[0];t&&(await e.loadJs("wc-accordion-tabs"),e.trigger("tf_wc_acc_tabs_init",[t]))})(),e.trigger("tf_init_photoswipe")})).on("tf_init_photoswipe",(c=>{const a=t.wc_single_product_params;if($.fn.wc_product_gallery&&a!==r)if(a.photoswipe_enabled)for(let t=(c=c||o).tfClass("woocommerce-product-gallery"),n=t.length-1;n>-1;--n){let o=$(t[n]),c=t[n].tfClass("woocommerce-product-gallery__trigger")[0];if(!o.data("product_gallery")){o.wc_product_gallery(a);let e=o.data("flexslider");e&&i((()=>{e.resize()}),100)}c?.tfOn(e.click,h,{once:!0});let s=t[n].tfClass("woocommerce-product-gallery__image");$.fn.flexslider!==r&&a.flexslider_enabled&&s.length>1||1!==s.length||s[0].tfTag("a")[0]?.tfOn(e.click,h,{once:!0})}else e.off("tf_init_photoswipe")})).trigger("tf_init_photoswipe")})(jQuery,Themify,document,window,themify_vars,setTimeout,void 0);